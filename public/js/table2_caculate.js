var values = {};

function fn_iotag(tag){
    socket.on(tag, function(value) {
        values[tag] = value;
        calculate();
    })};

    // Tạo một mảng chứa các tag cần đăng ký sự kiện
var tags = [
    'a456_9', 'a456_13', 'a456_18', 'a789_9', 'a789_13', 'a789_18',
    'b456_9', 'b456_13', 'b456_18', 'b789_9', 'b789_13', 'b789_18',
    'cl_9', 'cl_13', 'cl_18',
    'a456_9', 'a456_13', 'a456_18', 'a789_9', 'a789_13', 'a789_18',
    'b456_9', 'b456_13', 'b456_18', 'b789_9', 'b789_13', 'b789_18',
    'cl_9', 'cl_13', 'cl_18',
    'a456_9', 'a456_13', 'a456_18', 'a789_9', 'a789_13', 'a789_18',
    'b456_9', 'b456_13', 'b456_18', 'b789_9', 'b789_13', 'b789_18',
    'cl_9', 'cl_13', 'cl_18',
    'a456_9', 'a456_13', 'a456_18', 'a789_9', 'a789_13', 'a789_18',
    'b456_9', 'b456_13', 'b456_18', 'b789_9', 'b789_13', 'b789_18',
    'cl_9', 'cl_13', 'cl_18',
    'a456_9', 'a456_13', 'a456_18', 'a789_9', 'a789_13', 'a789_18',
    'b456_9', 'b456_13', 'b456_18', 'b789_9', 'b789_13', 'b789_18',
    'cl_9', 'cl_13', 'cl_18',
    'a456_9', 'a456_13', 'a456_18', 'a789_9', 'a789_13', 'a789_18',
    'b456_9', 'b456_13', 'b456_18', 'b789_9', 'b789_13', 'b789_18',
    'cl_9', 'cl_13', 'cl_18',
];

// Đăng ký sự kiện cho từng tag trong mảng
tags.forEach(function(tag) {
    fn_iotag(tag);
});